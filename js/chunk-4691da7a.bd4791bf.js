(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4691da7a"],{"0393":function(t,e,a){"use strict";a("210b");var i=a("604c"),s=a("d9bd");e["a"]=i["a"].extend({name:"v-expansion-panels",provide(){return{expansionPanels:this}},props:{accordion:Boolean,disabled:Boolean,flat:Boolean,hover:Boolean,focusable:Boolean,inset:Boolean,popout:Boolean,readonly:Boolean,tile:Boolean},computed:{classes(){return{...i["a"].options.computed.classes.call(this),"v-expansion-panels":!0,"v-expansion-panels--accordion":this.accordion,"v-expansion-panels--flat":this.flat,"v-expansion-panels--hover":this.hover,"v-expansion-panels--focusable":this.focusable,"v-expansion-panels--inset":this.inset,"v-expansion-panels--popout":this.popout,"v-expansion-panels--tile":this.tile}}},created(){this.$attrs.hasOwnProperty("expand")&&Object(s["a"])("expand","multiple",this),Array.isArray(this.value)&&this.value.length>0&&"boolean"===typeof this.value[0]&&Object(s["a"])(':value="[true, false, true]"',':value="[0, 2]"',this)},methods:{updateItem(t,e){const a=this.getValue(t,e),i=this.getValue(t,e+1);t.isActive=this.toggleMethod(a),t.nextIsActive=this.toggleMethod(i)}}})},"0f62":function(t,e,a){t.exports=a.p+"img/user.88849e80.svg"},"210b":function(t,e,a){},"3a2f":function(t,e,a){"use strict";a("9734");var i=a("4ad4"),s=a("a9ad"),n=a("16b7"),o=a("b848"),l=a("f573"),r=a("f2e7"),c=a("80d2"),d=a("d9bd"),h=a("58df");e["a"]=Object(h["a"])(s["a"],n["a"],o["a"],l["a"],r["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:e}=this.dimensions,a=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?t.offsetLeft:t.left;let s=0;return this.top||this.bottom||a?s=i+t.width/2-e.width/2:(this.left||this.right)&&(s=i+(this.right?t.width:-e.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),this.calcXOverflow(s,this.dimensions.content.width)+"px"},calculatedTop(){const{activator:t,content:e}=this.dimensions,a=!1!==this.attach?t.offsetTop:t.top;let i=0;return this.top||this.bottom?i=a+(this.bottom?t.height:-e.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=a+t.height/2-e.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),this.calcYOverflow(i+this.pageYOffset)+"px"},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:Object(c["h"])(this.maxWidth),minWidth:Object(c["h"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick(()=>{this.value&&this.callActivate()})},mounted(){"v-slot"===Object(c["u"])(this,"activator",!0)&&Object(d["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=i["a"].options.methods.genActivatorListeners.call(this);return t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")},t.keydown=t=>{t.keyCode===c["z"].esc&&(this.getActivator(t),this.runDelay("close"))},t},genActivatorAttributes(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition(){const t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render(t){return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent(()=>[this.genTransition()]),this.genActivator()])}})},"49e2":function(t,e,a){"use strict";var i=a("0789"),s=a("9d65"),n=a("a9ad"),o=a("3206"),l=a("80d2"),r=a("58df");const c=Object(r["a"])(s["a"],n["a"],Object(o["a"])("expansionPanel","v-expansion-panel-content","v-expansion-panel"));e["a"]=c.extend().extend({name:"v-expansion-panel-content",data:()=>({isActive:!1}),computed:{parentIsActive(){return this.expansionPanel.isActive}},watch:{parentIsActive:{immediate:!0,handler(t,e){t&&(this.isBooted=!0),null==e?this.isActive=t:this.$nextTick(()=>this.isActive=t)}}},created(){this.expansionPanel.registerContent(this)},beforeDestroy(){this.expansionPanel.unregisterContent()},render(t){return t(i["a"],this.showLazyContent(()=>[t("div",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-content",directives:[{name:"show",value:this.isActive}]}),[t("div",{class:"v-expansion-panel-content__wrap"},Object(l["t"])(this))])]))}})},"7b18":function(t,e,a){"use strict";a("9315")},9315:function(t,e,a){},9734:function(t,e,a){},c865:function(t,e,a){"use strict";var i=a("0789"),s=a("9d26"),n=a("a9ad"),o=a("3206"),l=a("5607"),r=a("80d2"),c=a("58df");const d=Object(c["a"])(n["a"],Object(o["a"])("expansionPanel","v-expansion-panel-header","v-expansion-panel"));e["a"]=d.extend().extend({name:"v-expansion-panel-header",directives:{ripple:l["a"]},props:{disableIconRotate:Boolean,expandIcon:{type:String,default:"$expand"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1}},data:()=>({hasMousedown:!1}),computed:{classes(){return{"v-expansion-panel-header--active":this.isActive,"v-expansion-panel-header--mousedown":this.hasMousedown}},isActive(){return this.expansionPanel.isActive},isDisabled(){return this.expansionPanel.isDisabled},isReadonly(){return this.expansionPanel.isReadonly}},created(){this.expansionPanel.registerHeader(this)},beforeDestroy(){this.expansionPanel.unregisterHeader()},methods:{onClick(t){this.$emit("click",t)},genIcon(){const t=Object(r["t"])(this,"actions")||[this.$createElement(s["a"],this.expandIcon)];return this.$createElement(i["d"],[this.$createElement("div",{staticClass:"v-expansion-panel-header__icon",class:{"v-expansion-panel-header__icon--disable-rotate":this.disableIconRotate},directives:[{name:"show",value:!this.isDisabled}]},t)])}},render(t){return t("button",this.setBackgroundColor(this.color,{staticClass:"v-expansion-panel-header",class:this.classes,attrs:{tabindex:this.isDisabled?-1:null,type:"button","aria-expanded":this.isActive},directives:[{name:"ripple",value:this.ripple}],on:{...this.$listeners,click:this.onClick,mousedown:()=>this.hasMousedown=!0,mouseup:()=>this.hasMousedown=!1}}),[Object(r["t"])(this,"default",{open:this.isActive},!0),this.hideActions||this.genIcon()])}})},cc4e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{staticClass:"pt-4"},[t.overlay?t._e():i("div",[i("v-row",[i("v-col",{attrs:{cols:"12",md:"12"}},[i("v-card",{staticClass:"d-flex align-center rounded-lg pa-2 px-4",attrs:{flat:""}},[i("h4",{},[t._v("\n            "+t._s(t.mailInfo.mail?t.mailInfo.mail.fullSectionPath:"")+"\n          ")]),i("v-spacer"),i("v-btn",{staticClass:"rounded-xl",attrs:{tile:"",color:"primary"},on:{click:function(e){return t.back()}}},[t._v("\n            "+t._s(t.$t("back"))+"\n            "),i("v-icon",{attrs:{right:""}},[t._v(" mdi-arrow-left ")])],1)],1)],1)],1),t.mailInfo.mail.replyOnGuid?i("v-row",[i("v-col",{attrs:{cols:"12",md:"12"}},[i("v-expansion-panels",{attrs:{flat:"",outlined:""},model:{value:t.gdFather,callback:function(e){t.gdFather=e},expression:"gdFather"}},[i("v-expansion-panel",{on:{click:t.getGdFatherInfo}},[i("v-expansion-panel-header",[i("h3",[t._v("\n                "+t._s(t.$t("mail.previousMail"))+" ( "+t._s(t.mailInfo.mail.replyOnTitle)+" )\n              ")])]),i("v-expansion-panel-content",[i("v-card",{attrs:{loading:t.cardLoad,flat:"",outlined:""}},[t.gfMailInfo.mail?i("v-card-text",[i("v-row",[i("v-col",{staticClass:"pa-0 pb-4"},[i("v-list-item",{attrs:{"two-line":""}},[i("v-list-item-avatar",[i("img",{attrs:{src:a("0f62")}})]),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.gfMailInfo.mail.fromName))]),i("v-list-item-subtitle",[t._v(t._s(t.gfMailInfo.mail.fromCode))])],1)],1)],1),i("v-col",{class:"ar"==t.$i18n.locale?"text-left ":"text-right "},[i("v-chip",{staticClass:"py-6",attrs:{label:"",outlined:""}},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("div",t._g(t._b({},"div",s,!1),a),[t._v("\n                              "+t._s(t.gfMailInfo.mail.datex2)+"\n                            "),i("v-icon",{staticClass:"px-1"},[t._v(" mdi-calendar-range ")])],1)]}}],null,!1,1212908642)},[i("span",[t._v(t._s(t.gfMailInfo.mail.datex))])])],1)],1)],1),i("v-row",[i("v-col",{},[i("v-alert",{attrs:{text:"",dense:"",color:"primary",border:"left"}},[i("h3",{staticClass:"py-2 text--primary"},[t._v("\n                          "+t._s(t.gfMailInfo.mail.title)+"\n                        ")]),i("div",{staticClass:"pb-4"},[t._v("\n                          "+t._s(t.gfMailInfo.mail.subjectName)+"\n                        ")]),i("div",{staticClass:"text--primary",domProps:{innerHTML:t._s(t.gfMailInfo.mail.detailsHTML)}})])],1)],1)],1):t._e(),t.gfMailInfo.mail?i("v-card-actions",[t.gfMailInfo.mail.attachedFileUrl?i("download-file",{attrs:{fileUrl:t.gfMailInfo.mail.attachedFileUrl}}):t._e()],1):t._e()],1)],1)],1)],1)],1)],1):t._e(),i("v-row",[i("v-col",{attrs:{cols:"12",md:"12"}},[i("v-card",{staticClass:"mx-auto",attrs:{flat:"",outlined:""}},[i("v-card-text",[i("v-row",[i("v-col",{staticClass:"pa-0 pb-4"},[i("v-list-item",{attrs:{"two-line":""}},[i("v-list-item-avatar",[i("img",{attrs:{src:a("0f62")}})]),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.mailInfo.mail.fromName))]),i("v-list-item-subtitle",[t._v(t._s(t.mailInfo.mail.fromCode))])],1)],1)],1),i("v-col",{class:"ar"==t.$i18n.locale?"text-left ":"text-right "},[i("v-chip",{staticClass:"py-6",attrs:{label:"",outlined:""}},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[i("div",t._g(t._b({},"div",s,!1),a),[t._v("\n                              "+t._s(t.mailInfo.mail.datex2)+"\n                            "),i("v-icon",{staticClass:"px-1"},[t._v(" mdi-calendar-range ")])],1)]}}],null,!1,1300319523)},[i("span",[t._v(t._s(t.mailInfo.mail.datex))])])],1)],1)],1),i("v-row",[i("v-col",{},[i("v-alert",{attrs:{text:"",dense:"",color:"primary",border:"left"}},[i("h3",{staticClass:"py-2 text--primary"},[t._v("\n                    "+t._s(t.mailInfo.mail.title)+"\n                  ")]),i("div",{staticClass:"pb-4"},[t._v(t._s(t.mailInfo.mail.subjectName))]),i("div",{staticClass:"text--primary",domProps:{innerHTML:t._s(t.mailInfo.mail.detailsHTML)}})])],1)],1)],1),i("v-card-actions",[t.mailInfo.mail.attachedFileUrl?i("download-file",{attrs:{fileUrl:t.mailInfo.mail.attachedFileUrl}}):t._e(),i("v-spacer"),0===t.mailInfo.mail.mailType?i("v-btn",{staticClass:"mx-2 mb-2",attrs:{outlined:"",color:"primary"},on:{click:function(e){return t.replyDialog(t.mailInfo.mail)}}},[t._v("\n              "+t._s(t.$t("mail.reply"))+"\n              "),i("v-icon",[t._v("mdi-reply")])],1):t._e()],1)],1)],1)],1),i("v-row",[i("v-col",{attrs:{cols:"12",md:"12"}},[i("v-expansion-panels",{attrs:{multiple:"",flat:"",outlined:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},t._l(t.mailInfo.replies,(function(e,s){return i("v-expansion-panel",{key:s},[i("v-expansion-panel-header",[i("h3",{staticClass:"headerClass py-2"},[t._v(t._s(e.title))])]),i("v-expansion-panel-content",[i("v-card",{attrs:{loading:t.cardLoad,flat:"",outlined:""}},[t.mailInfo.replies?i("v-card-text",[i("v-row",[i("v-col",{staticClass:"pa-0 pb-4"},[i("v-list-item",{attrs:{"two-line":""}},[i("v-list-item-avatar",[i("img",{attrs:{src:a("0f62")}})]),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(t.mailInfo.mail.to[0].toName))]),i("v-list-item-subtitle",[t._v(t._s(t.mailInfo.mail.to[0].toCode))])],1)],1)],1),i("v-col",{class:"ar"==t.$i18n.locale?"text-left ":"text-right "},[i("v-chip",{staticClass:"py-6",attrs:{label:"",outlined:""}},[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(a){var s=a.on,n=a.attrs;return[i("div",t._g(t._b({},"div",n,!1),s),[t._v("\n                              "+t._s(e.datex2)+"\n                            "),i("v-icon",{staticClass:"px-1"},[t._v(" mdi-calendar-range ")])],1)]}}],null,!0)},[i("span",[t._v(t._s(e.datex))])])],1)],1)],1),i("v-row",[i("v-col",{},[i("v-alert",{attrs:{text:"",dense:"",color:"primary",border:"left"}},[i("h3",{staticClass:"py-2 text--primary"},[t._v(t._s(e.title))]),i("div",{staticClass:"pb-4"},[t._v("\n                          "+t._s(t.mailInfo.mail.subjectName)+"\n                        ")]),i("div",{staticClass:"text--primary",domProps:{innerHTML:t._s(e.detailsHTML)}})])],1)],1)],1):t._e(),t.mailInfo.replies?i("v-card-actions",[i("v-btn",{staticClass:"mx-2 mb-2",attrs:{outlined:"",color:"primary"},on:{click:function(a){return t.openReply(e)}}},[t._v("\n                    "+t._s(t.$t("mail.MailView"))+"\n                    "),i("v-icon",{staticClass:"px-2"},[t._v(" mdi-eye ")])],1)],1):t._e()],1)],1)],1)})),1)],1)],1)],1),i("ReplyMail",{ref:"ReplyMailComponent",on:{"send-result-values":t.getMailInfo}})],1)},s=[],n=a("41d7"),o=a("18f3"),l=a("c1df"),r=a.n(l),c={components:{ReplyMail:o["default"],DownloadFile:n["default"]},props:["id","type"],data(){return{cardLoad:!1,overlay:!1,mailInfo:{},panel:[],gdFather:[],gfMailInfo:[],items:5}},created(){this.getMailInfo()},computed:{replace(){return setTimeout(()=>{this.getMailInfo()},1e3),this.id}},methods:{replyDialog(t){this.$refs.ReplyMailComponent.setValue(t.guid)},openReply(t){this.$router.push({path:`/showMail=${t.guid}&${t.mailType}`,params:{id:t.guid,type:t.mailType}}),setTimeout(()=>{this.getMailInfo()},1e3)},getGdFatherInfo(){if(this.gdFather){this.cardLoad=!0;let t=1==this.type?0:1;this.axios.get(`Mails/Preview?mailGuid=${this.mailInfo.mail.replyOnGuid}&mailType=${t}`).then(t=>{this.gfMailInfo=t.data.data,this.gfMailInfo.mail.datex2=r()(this.gfMailInfo.mail.datex).fromNow(),this.gfMailInfo.mail.datex=r()(this.gfMailInfo.mail.datex).format("YYYY/MM/DD - h:mm a ")}).catch(()=>{}).finally(()=>{this.cardLoad=!1})}},get_url_extension(t){return t.split(/[#?]/)[0].split(".").pop().trim().toLowerCase()},installFile(t){window.open(""+t.attachedFileUrl)},getMailInfo(){this.overlay=!0,this.axios.get(`Mails/Preview?mailGuid=${this.id}&mailType=${this.type}`).then(t=>{this.mailInfo=t.data.data,this.mailInfo.mail.datex2=r()(this.mailInfo.mail.datex).fromNow(),this.mailInfo.mail.datex=r()(this.mailInfo.mail.datex).format("YYYY/MM/DD - h:mm a "),this.mailInfo.replies.forEach(t=>{t.datex2=r()(t.datex).fromNow(),t.datex=r()(t.datex).format("YYYY/MM/DD - h:mm a ")})}).catch(()=>{}).finally(()=>{this.overlay=!1})},activated(){this.getMailInfo()},beforeRouteEnter(t,e,a){},back(){this.$router.go(-1),setTimeout(()=>{this.getMailInfo()},100)}}},d=c,h=(a("7b18"),a("2877")),p=a("6544"),v=a.n(p),m=a("0798"),u=a("8336"),f=a("b0afa"),x=a("99d9"),g=a("cc20"),b=a("62ad"),_=a("a523"),y=a("cd55"),I=a("49e2"),C=a("c865"),w=a("0393"),M=a("132d"),A=a("da13"),$=a("8270"),k=a("5d23"),T=a("0fd9"),O=a("2fa4"),D=a("3a2f"),L=Object(h["a"])(d,i,s,!1,null,"78ff08b3",null);e["default"]=L.exports;v()(L,{VAlert:m["a"],VBtn:u["a"],VCard:f["a"],VCardActions:x["a"],VCardText:x["c"],VChip:g["a"],VCol:b["a"],VContainer:_["a"],VExpansionPanel:y["a"],VExpansionPanelContent:I["a"],VExpansionPanelHeader:C["a"],VExpansionPanels:w["a"],VIcon:M["a"],VListItem:A["a"],VListItemAvatar:$["a"],VListItemContent:k["a"],VListItemSubtitle:k["b"],VListItemTitle:k["c"],VRow:T["a"],VSpacer:O["a"],VTooltip:D["a"]})},cd55:function(t,e,a){"use strict";var i=a("4e82"),s=a("3206"),n=a("80d2"),o=a("58df");e["a"]=Object(o["a"])(Object(i["a"])("expansionPanels","v-expansion-panel","v-expansion-panels"),Object(s["b"])("expansionPanel",!0)).extend({name:"v-expansion-panel",props:{disabled:Boolean,readonly:Boolean},data(){return{content:null,header:null,nextIsActive:!1}},computed:{classes(){return{"v-expansion-panel--active":this.isActive,"v-expansion-panel--next-active":this.nextIsActive,"v-expansion-panel--disabled":this.isDisabled,...this.groupClasses}},isDisabled(){return this.expansionPanels.disabled||this.disabled},isReadonly(){return this.expansionPanels.readonly||this.readonly}},methods:{registerContent(t){this.content=t},unregisterContent(){this.content=null},registerHeader(t){this.header=t,t.$on("click",this.onClick)},unregisterHeader(){this.header=null},onClick(t){t.detail&&this.header.$el.blur(),this.$emit("click",t),this.isReadonly||this.isDisabled||this.toggle()},toggle(){this.$nextTick(()=>this.$emit("change"))}},render(t){return t("div",{staticClass:"v-expansion-panel",class:this.classes,attrs:{"aria-expanded":String(this.isActive)}},Object(n["t"])(this))}})}}]);
//# sourceMappingURL=chunk-4691da7a.bd4791bf.js.map