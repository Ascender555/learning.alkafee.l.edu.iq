(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62e36ab5"],{1736:function(t,e,i){"use strict";i("4b10")},"3a2f":function(t,e,i){"use strict";i("9734");var s=i("4ad4"),a=i("a9ad"),o=i("16b7"),n=i("b848"),l=i("f573"),r=i("f2e7"),c=i("80d2"),h=i("d9bd"),d=i("58df");e["a"]=Object(d["a"])(a["a"],o["a"],n["a"],l["a"],r["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:e}=this.dimensions,i=!this.bottom&&!this.left&&!this.top&&!this.right,s=!1!==this.attach?t.offsetLeft:t.left;let a=0;return this.top||this.bottom||i?a=s+t.width/2-e.width/2:(this.left||this.right)&&(a=s+(this.right?t.width:-e.width)+(this.right?10:-10)),this.nudgeLeft&&(a-=parseInt(this.nudgeLeft)),this.nudgeRight&&(a+=parseInt(this.nudgeRight)),this.calcXOverflow(a,this.dimensions.content.width)+"px"},calculatedTop(){const{activator:t,content:e}=this.dimensions,i=!1!==this.attach?t.offsetTop:t.top;let s=0;return this.top||this.bottom?s=i+(this.bottom?t.height:-e.height)+(this.bottom?10:-10):(this.left||this.right)&&(s=i+t.height/2-e.height/2),this.nudgeTop&&(s-=parseInt(this.nudgeTop)),this.nudgeBottom&&(s+=parseInt(this.nudgeBottom)),this.calcYOverflow(s+this.pageYOffset)+"px"},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:Object(c["h"])(this.maxWidth),minWidth:Object(c["h"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick(()=>{this.value&&this.callActivate()})},mounted(){"v-slot"===Object(c["u"])(this,"activator",!0)&&Object(h["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=s["a"].options.methods.genActivatorListeners.call(this);return t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")},t.keydown=t=>{t.keyCode===c["z"].esc&&(this.getActivator(t),this.runDelay("close"))},t},genActivatorAttributes(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition(){const t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render(t){return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent(()=>[this.genTransition()]),this.genActivator()])}})},"4b10":function(t,e,i){},9734:function(t,e,i){},"9c1a":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"px-4"},[i("v-card",{staticClass:"d-flex align-center rounded-lg ma-4 pa-2",attrs:{flat:""}},[i("v-row",[i("v-col",{staticClass:"py-0 my-0",attrs:{cols:"12",md:"6",sm:"12"}},[i("v-switch",{staticClass:"mx-1",attrs:{color:"success",label:t.$t("mail.ViewArchivedMail")},on:{change:t.getMails},model:{value:t.switch1,callback:function(e){t.switch1=e},expression:"switch1"}})],1),i("v-col",{class:"ar"==t.$i18n.locale?"text-left mt-1":"text-right mt-1",attrs:{cols:"12",md:"6",sm:"12"}},[i("v-btn",{staticClass:"mx-1 mt-1",attrs:{color:"error",outlined:"",disabled:!t.rowKeysSelected.length>0,loading:t.loadingDelete},on:{click:t.mailsDelete}},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-delete ")]),t._v("\n          "+t._s(t.$t("delete"))+"\n        ")],1),t.switch1?i("v-btn",{staticClass:"mx-1 mt-1",attrs:{color:"success",outlined:"",loading:t.loadingArchiveMail,disabled:!t.rowKeysSelected.length>0},on:{click:t.unArchiveMail}},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-archive-arrow-up ")]),t._v("\n          "+t._s(t.$t("mail.CancelArchivingMail"))+"\n        ")],1):i("v-btn",{staticClass:"mx-1 mt-1",attrs:{color:"success",outlined:"",loading:t.loadingArchiveMail,disabled:!t.rowKeysSelected.length>0},on:{click:t.archiveMail}},[i("v-icon",{attrs:{left:""}},[t._v(" mdi-archive-arrow-down ")]),t._v("\n          "+t._s(t.$t("mail.ArchiveMail"))+"\n        ")],1)],1)],1)],1),i("v-row",{staticClass:"px-4"},[i("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[i("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("writeWhatYouSearch"),outlined:"",dense:"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),i("v-row",{staticStyle:{"margin-bottom":"60px"}},[i("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[i("v-card",{staticClass:"d-flex align-center rounded-lg mx-4 pa-2 pb-0",attrs:{flat:""}},[i("v-card-text",[i("v-data-table",{attrs:{headers:t._headers,items:t.mails,search:t.search,"item-key":"guid","show-select":"",width:"100%",loading:t.loadingData},scopedSlots:t._u([{key:"item.toName",fn:function(e){var s=e.item;return[1==s.to.length?i("v-chip",[t._v(t._s(s.to[0].toName))]):i("v-menu",{attrs:{top:"","offset-y":"",rounded:"t-xl b-xl",dark:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{color:"primary",rounded:"",elevation:"0",dark:""}},"v-btn",o,!1),a),[t._v("\n              "+t._s(s.to.length>10?s.collectionCount+" "+t.$t("mail.Person"):s.collectionCount+"  "+t.$t("mail.Persons"))+"\n            ")])]}}],null,!0)},[i("v-list",{staticClass:"my-0 pa-2"},[t._l(s.to,(function(e,s){return i("v-list-item",{key:s,staticClass:"my-0 py-1"},[i("v-list-item-title",{staticClass:"my-0 py-0"},[i("v-chip",{staticClass:"my-0 py-0",attrs:{small:""}},[t._v("\n                  "+t._s(e.toName+"  -  "+e.toCode)+"\n                ")])],1)],1)})),s.collectionCount>10?i("v-list-item",[i("v-list-item-title",{staticClass:"my-0 py-0"},[i("v-chip",{staticClass:"my-0 py-0",attrs:{small:""}},[t._v("\n                  "+t._s(" + "+(s.collectionCount-10)+"   "+t.$t("mail.Others")+" ")+"\n                ")])],1)],1):t._e()],2)],1)]}},{key:"item.attachedFileUrl",fn:function(e){var s=e.item;return[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[s.attachedFileUrl?i("v-btn",t._g(t._b({attrs:{icon:"",color:"green"},on:{click:function(e){return t.installFile(s)}}},"v-btn",o,!1),a),[i("v-icon",[t._v("mdi-link-variant")])],1):t._e()]}}],null,!0)},[i("span",[t._v(t._s(t.$t("mail.DownloadTheAttachment")))])])]}},{key:"item.datex",fn:function(e){var s=e.item;return[i("div",[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("p",t._g(t._b({},"p",o,!1),a),[t._v("\n                      "+t._s(s.datex2)+"\n                    ")])]}}],null,!0)},[i("span",[t._v(t._s(s.datex))])])],1)]}},{key:"item.fullSectionPath",fn:function(e){var s=e.item;return[i("div",[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,a=e.attrs;return[i("p",t._g(t._b({},"p",a,!1),s),[i("v-icon",[t._v("mdi-information-outline")])],1)]}}],null,!0)},[i("span",[t._v(t._s(s.fullSectionPath))])])],1)]}},{key:"item.actions",fn:function(e){var s=e.item;return[i("div",[i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("v-btn",t._g(t._b({attrs:{icon:"",color:"primary"},on:{click:function(e){return t.showMail(s)}}},"v-btn",o,!1),a),[i("v-icon",[t._v("mdi-eye")])],1)]}}],null,!0)},[i("span",[t._v(t._s(t.$t("Preview")))])])],1)]}}],null,!0),model:{value:t.rowKeysSelected,callback:function(e){t.rowKeysSelected=e},expression:"rowKeysSelected"}})],1)],1)],1)],1),i("v-fab-transition",{},[i("v-btn",{staticClass:"v-btn--example",class:t.$store.state.drawerMessage?"ml-16":"",style:t.$vuetify.rtl?"":"right:80px",attrs:{color:"secondary",fab:"",large:"",elevation:"6",fixed:"",bottom:"",left:t.$vuetify.rtl,right:!t.$vuetify.rtl},on:{click:t.openDialog}},[i("v-icon",[t._v("mdi-plus")])],1)],1),i("SendMailComp",{ref:"childComponent",on:{"send-result-values":t.getMails}})],1)},a=[],o=i("fc86"),n=i("c1df"),l=i.n(n),r={components:{SendMailComp:o["default"]},data(){return{search:"",loadingData:!1,loadingDelete:!1,loadingArchiveMail:!1,switch1:0,rtlEnabled:!0,allMode:"allPages",checkBoxesMode:"onClick",mails:[],rowKeysSelected:[],headers:[{text:this.$t("mail.subjectName"),value:"subjectName",show:!0},{text:this.$t("mail.to"),value:"toName",show:!0},{text:this.$t("mail.title"),value:"title",show:!0},{text:this.$t("mail.Attachments"),value:"attachedFileUrl",show:!0},{text:this.$t("date"),value:"datex",show:!0},{text:this.$t("mail.Section"),value:"fullSectionPath",show:this.isInRole(2)},{text:this.$t("mail.actions"),value:"actions",show:!0}]}},computed:{_headers(){return this.headers.filter(t=>t.show)}},methods:{openDialog(){this.$refs.childComponent.setValue()},archiveMail(){if(!this.rowKeysSelected||0==this.rowKeysSelected.length)return;this.loadingArchiveMail=!0;const t={archiving:!0,mailType:1,mailGuids:this.rowKeysSelected.map(t=>t.guid)};this.axios.post("Mails/Archiving",t).then(()=>{this.getMails()}).catch(()=>{this.$swal.fire({title:this.$t("AnErrorOccurredDuringTheProcess"),text:"",icon:"error",confirmButtonText:this.$t("close")})}).finally(()=>{this.loadingArchiveMail=!1})},unArchiveMail(){if(!this.rowKeysSelected||0==this.rowKeysSelected.length)return;this.loadingArchiveMail=!0;const t={archiving:!1,mailType:1,mailGuids:this.rowKeysSelected.map(t=>t.guid)};this.axios.post("Mails/Archiving",t).then(()=>{this.getMails()}).catch(()=>{this.$swal.fire({title:this.$t("AnErrorOccurredDuringTheProcess"),text:"",icon:"error",confirmButtonText:this.$t("close")})}).finally(()=>{this.loadingArchiveMail=!1})},mailsDelete(){this.rowKeysSelected&&0!=this.rowKeysSelected.length&&this.$swal.fire({title:this.$t("AreYouSureAboutTheOperation"),text:this.$t("TheMessagesReadByTheRecipientCannotBeDeleted"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:this.$t("yes"),cancelButtonText:this.$t("no")}).then(t=>{t.value&&(this.loadingDelete=!0,this.axios.post("Mails/Delete",this.rowKeysSelected.map(t=>t.guid)).then(()=>{this.getMails()}).catch(()=>{this.$swal.fire({title:this.$t("mail.ReadMessagesCannotBeDeleted"),text:"",icon:"error",confirmButtonText:this.$t("close")})}).finally(()=>{this.loadingDelete=!1}))})},showMail(t){this.$router.push({path:`showMail=${t.guid}&1`,params:{id:t.guid,type:1}})},installFile(t){window.open(""+t.attachedFileUrl)},getMails(){this.loadingData=!0;const t=this.switch1?1:0;this.axios.get("Mails/Get?mailType=1&archiving="+t).then(t=>{this.rowKeysSelected=[],this.mails=t.data.data,this.mails.forEach(t=>{t.datex2=l()(t.datex).fromNow(),t.datex=l()(t.datex).format("YYYY/MM/DD - h:mm a ")})}).catch(()=>{}).finally(()=>{this.loadingData=!1})}},created(){this.getMails()}},c=r,h=(i("1736"),i("2877")),d=i("6544"),u=i.n(d),v=i("8336"),m=i("b0afa"),p=i("99d9"),f=i("cc20"),g=i("62ad"),y=i("8fea"),w=i("0789"),b=i("132d"),x=i("8860"),_=i("da13"),C=i("5d23"),$=i("e449"),M=i("0fd9"),S=i("b73d"),A=i("8654"),k=i("3a2f"),T=Object(h["a"])(c,s,a,!1,null,"4bd54fa0",null);e["default"]=T.exports;u()(T,{VBtn:v["a"],VCard:m["a"],VCardText:p["c"],VChip:f["a"],VCol:g["a"],VDataTable:y["a"],VFabTransition:w["c"],VIcon:b["a"],VList:x["a"],VListItem:_["a"],VListItemTitle:C["c"],VMenu:$["a"],VRow:M["a"],VSwitch:S["a"],VTextField:A["a"],VTooltip:k["a"]})}}]);
//# sourceMappingURL=chunk-62e36ab5.bff28e17.js.map