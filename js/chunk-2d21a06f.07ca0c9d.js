(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a06f"],{ba82:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.finalResults,"items-per-page":15},scopedSlots:e._u([{key:"item.stageName",fn:function(t){var s=t.item;return[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[a("v-chip",{staticClass:"me-2",attrs:{label:""}},[e._v(e._s(s.attemptNumber))]),s.courseType?a("v-chip",{staticClass:"me-2",attrs:{label:""}},[e._v(e._s(s.courseType))]):e._e(),a("v-chip",{staticClass:"me-2",attrs:{label:""}},[e._v(e._s((s.stageName.includes("المرحلة")?"":"المرحلة ")+s.stageName))]),a("v-chip",{staticClass:"me-2",attrs:{outlined:"",label:"",title:s.publishDateFormat}},[e._v(e._s(s.publishDateText))])],1)],1)]}},{key:"item.action",fn:function(t){var s=t.item;return[a("v-card-actions",[a("v-spacer"),a("v-btn",{staticStyle:{"font-weight":"bold"},attrs:{outlined:"",color:"primary",loading:e.degreesLoading,dark:""},on:{click:function(t){return e.getFinalDegree(s.guid)}}},[s.openByStudent?e._e():a("v-icon",{staticClass:"me-2",attrs:{color:"secondary"}},[e._v("mdi-email")]),s.openByStudent?a("v-icon",{staticClass:"me-2"},[e._v("mdi-email-open")]):e._e(),e._v("\n          "+e._s(e.$t("home.degreeDownload"))+"\n\n        ")],1)],1)]}}],null,!0)})],1)},l=[],i={data(){return{finalResults:[],overlay:!1,degreesLoading:!1,headers:[{text:this.$t("finalResults.stageName"),value:"stageName"},{text:"",value:"action"}]}},methods:{getFinalDegree(e){this.degreesLoading=!0,this.axios({url:"Degrees/GetStudentFinalResult?guid="+e,method:"GET",responseType:"blob"}).then(e=>{const t=new Blob([e.data],{type:e.data.type}),a=document.createElement("a");a.href=URL.createObjectURL(t),a.download="finalDegrees",a.click(),URL.revokeObjectURL(a.href)}).catch().finally(()=>{this.degreesLoading=!1})},getfinalResults(){this.overlay=!0,this.axios.get("Degrees/GetStudentAllFinalResults").then(e=>{this.finalResults=e.data.data,this.finalResults.forEach(e=>{e.publishDateFormat=this.$moment(e.publishDate).format("YYYY/MM/DD - h:mm A "),e.publishDateText=this.$moment(e.publishDate).fromNow()}),console.log(this.finalResults)}).catch(e=>{}).finally(()=>{this.overlay=!1})}},created(){this.getfinalResults()}},n=i,o=a("2877"),r=a("6544"),c=a.n(r),d=a("8336"),u=a("99d9"),h=a("cc20"),m=a("62ad"),p=a("8fea"),g=a("132d"),v=a("0fd9"),f=a("2fa4"),b=Object(o["a"])(n,s,l,!1,null,null,null);t["default"]=b.exports;c()(b,{VBtn:d["a"],VCardActions:u["a"],VChip:h["a"],VCol:m["a"],VDataTable:p["a"],VIcon:g["a"],VRow:v["a"],VSpacer:f["a"]})}}]);
//# sourceMappingURL=chunk-2d21a06f.07ca0c9d.js.map